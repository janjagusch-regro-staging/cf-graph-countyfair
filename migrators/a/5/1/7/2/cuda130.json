{
  "__migrator__": true,
  "args": [
    "migrator_ts: 1755016036\n__migrator:\n  operation: key_add\n  migration_number:\n    1\n  build_number:\n    1\n  paused: false\n  override_cbc_keys:\n    - cuda_compiler_stub\n  check_solvable: false\n  primary_key: cuda_compiler_version\n  ordering:\n    cuda_compiler_version:\n      - 12.4\n      - 12.6\n      - 12.8\n      - None\n      - 12.9\n      - 13.0\n      # to allow manual opt-in for CUDA 11.8, see\n      # https://github.com/conda-forge/conda-forge-pinning-feedstock/pull/7472\n      # must be last due to how cuda_compiler ordering in that migrator works\n      - 11.8\n  wait_for_migrators:\n    - cuda129\n  commit_message: |\n    Upgrade to CUDA 13.0\n    \n    CUDA 13.0 requires architecture `sm_75` or higher, and renamed `sm_101` to\n    `sm_110`. To build for these, maintainers will need to modify their existing list of\n    specified architectures (e.g. `CMAKE_CUDA_ARCHITECTURES`, `TORCH_CUDA_ARCH_LIST`, etc.)\n    for their package.\n\n    Since CUDA 12.8, the conda-forge nvcc package now sets `CUDAARCHS` and\n    in its activation script to a string containing all\n    of the supported real architectures plus the virtual architecture of the\n    latest. Recipes for packages who use these variables to control their build\n    but do not want to build for all supported architectures will need to override\n    these variables in their build script.\n\n    ref: https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html#new-features\n\n    > [[!IMPORTANT]]\n    > Remember to update any CUDA 11/12 specific selector syntax in the recipe to include\n    > CUDA 13. For example `# [(cuda_compiler_version or \"None\").startswith(\"12\")]`\n    > might be replaced with `# [cuda_compiler_version != \"None\"]`.\n\ncuda_compiler_version:         # [((linux and (x86_64 or aarch64)) or win64) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n  - 13.0                       # [((linux and (x86_64 or aarch64)) or win64) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n\nc_stdlib_version:              # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n  - 2.28                       # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n\nc_compiler_version:            # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n  - 14                         # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n\ncxx_compiler_version:          # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n  - 14                         # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n\nfortran_compiler_version:      # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n  - 14                         # [(linux and (x86_64 or aarch64)) and os.environ.get(\"CF_CUDA_ENABLED\", \"False\") == \"True\"]\n",
    "cuda130"
  ],
  "class": "MigrationYaml",
  "kwargs": {
    "automerge": false,
    "build_number": 1,
    "bump_number": 1,
    "check_solvable": false,
    "commit_message": "Upgrade to CUDA 13.0\n\nCUDA 13.0 requires architecture `sm_75` or higher, and renamed `sm_101` to\n`sm_110`. To build for these, maintainers will need to modify their existing list of\nspecified architectures (e.g. `CMAKE_CUDA_ARCHITECTURES`, `TORCH_CUDA_ARCH_LIST`, etc.)\nfor their package.\n\nSince CUDA 12.8, the conda-forge nvcc package now sets `CUDAARCHS` and\nin its activation script to a string containing all\nof the supported real architectures plus the virtual architecture of the\nlatest. Recipes for packages who use these variables to control their build\nbut do not want to build for all supported architectures will need to override\nthese variables in their build script.\n\nref: https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html#new-features\n\n> [[!IMPORTANT]]\n> Remember to update any CUDA 11/12 specific selector syntax in the recipe to include\n> CUDA 13. For example `# [(cuda_compiler_version or \"None\").startswith(\"12\")]`\n> might be replaced with `# [cuda_compiler_version != \"None\"]`.\n",
    "conda_forge_yml_patches": null,
    "cycles": {
      "__set__": true,
      "elements": []
    },
    "effective_graph": {
      "__nx_digraph__": true,
      "node_link_data": {
        "directed": true,
        "graph": {
          "outputs_lut": {},
          "strong_exports": {
            "__set__": true,
            "elements": [
              "c_compiler_stub",
              "c_stdlib_stub",
              "cuda_compiler_stub",
              "cxx_compiler_stub",
              "fortran_compiler_stub"
            ]
          }
        },
        "links": [],
        "multigraph": false,
        "nodes": []
      }
    },
    "force_pr_after_solver_attempts": 10,
    "graph": {
      "__nx_digraph__": true,
      "node_link_data": {
        "directed": true,
        "graph": {
          "outputs_lut": {},
          "strong_exports": {
            "__set__": true,
            "elements": [
              "c_compiler_stub",
              "c_stdlib_stub",
              "cuda_compiler_stub",
              "cxx_compiler_stub",
              "fortran_compiler_stub"
            ]
          }
        },
        "links": [],
        "multigraph": false,
        "nodes": [
          {
            "id": "conda-forge-pinning",
            "payload": {
              "__lazy_json__": "node_attrs/conda-forge-pinning.json"
            }
          }
        ]
      }
    },
    "ignored_deps_per_node": null,
    "longterm": false,
    "migration_number": 1,
    "operation": "key_add",
    "ordering": {
      "cuda_compiler_version": [
        12.4,
        12.6,
        12.8,
        "None",
        12.9,
        13.0,
        11.8
      ]
    },
    "override_cbc_keys": [
      "cuda_compiler_stub"
    ],
    "package_names": {
      "__set__": true,
      "elements": [
        "cuda_compiler_stub"
      ]
    },
    "paused": false,
    "piggy_back_migrations": [
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "CrossCompilationForARMAndPower",
        "kwargs": {},
        "name": "crosscompilationforarmandpower"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "StdlibMigrator",
        "kwargs": {},
        "name": "stdlibmigrator"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "CondaForgeYAMLCleanup",
        "kwargs": {},
        "name": "condaforgeyamlcleanup"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "Jinja2VarsCleanup",
        "kwargs": {},
        "name": "jinja2varscleanup"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "DuplicateLinesCleanup",
        "kwargs": {},
        "name": "duplicatelinescleanup"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "PipMigrator",
        "kwargs": {},
        "name": "pipmigrator"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "LicenseMigrator",
        "kwargs": {},
        "name": "licensemigrator"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "ExtraJinja2KeysCleanup",
        "kwargs": {},
        "name": "extrajinja2keyscleanup"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "NoCondaInspectMigrator",
        "kwargs": {},
        "name": "nocondainspectmigrator"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "MPIPinRunAsBuildCleanup",
        "kwargs": {},
        "name": "mpipinrunasbuildcleanup"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "PyPIOrgMigrator",
        "kwargs": {},
        "name": "pypiorgmigrator"
      },
      {
        "__mini_migrator__": true,
        "args": [],
        "class": "CombineV1ConditionsMigrator",
        "kwargs": {},
        "name": "combinev1conditionsmigrator"
      }
    ],
    "pr_limit": 2,
    "primary_key": "cuda_compiler_version",
    "top_level": {
      "__set__": true,
      "elements": []
    },
    "total_graph": null,
    "wait_for_migrators": [
      "cuda129"
    ]
  },
  "name": "cuda130"
}